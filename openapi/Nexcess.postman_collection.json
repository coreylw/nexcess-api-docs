{
	"info": {
		"_postman_id": "ba1f3914-3bb8-4ac7-96ae-cddba669f5ec",
		"name": "Nexcess",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Authentication",
			"item": [
				{
					"name": "Login",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "dd3d1225-df97-4c8e-94ad-465db58d9b6e",
								"exec": [
									"pm.test(\"Process Authorization Token\", function () {",
									"    pm.response.to.have.status(200);",
									"    ",
									"    var data = pm.response.json();",
									"    pm.environment.set(\"PORTAL_API_TOKEN\", data.authorization);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"username\": \"{{USERNAME}}\",\n\t\"password\": \"{{PASSWORD}}\"\n}"
						},
						"url": {
							"raw": "{{PORTAL_API_URL}}/v1/login",
							"host": [
								"{{PORTAL_API_URL}}"
							],
							"path": [
								"v1",
								"login"
							]
						},
						"description": "Client user authentication with a username and password.\n\nA successful response includes a time-limited Bearer token to be included in the Authorization header on subsequent requests.\n\nThis endpoint is mainly intended for use by web applications, which would store the token for use during the user's logged-in session. (When the token expires, requests will recieve 401 responses.) For general API usage, an api token should be used instead. @see api-token:add"
					},
					"response": []
				}
			]
		},
		{
			"name": "Users",
			"item": [
				{
					"name": "Get User (self)",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{PORTAL_API_URL}}/v1/user/self",
							"host": [
								"{{PORTAL_API_URL}}"
							],
							"path": [
								"v1",
								"user",
								"self"
							]
						},
						"description": "Shows information about the currently-authenticated client user."
					},
					"response": []
				}
			]
		},
		{
			"name": "API Tokens",
			"item": [
				{
					"name": "Create API Token",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "7fec6e53-17bf-4652-9ba2-f54beeb13ec4",
								"exec": [
									"pm.test(\"Save new token ID\", function () {",
									"    pm.response.to.have.status(201);",
									"    ",
									"    var data = pm.response.json();",
									"    pm.environment.set(\"TOKEN_ID\", data.id);",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"name\": \"test-name\"\n}"
						},
						"url": {
							"raw": "{{PORTAL_API_URL}}/v1/api-token",
							"host": [
								"{{PORTAL_API_URL}}"
							],
							"path": [
								"v1",
								"api-token"
							]
						},
						"description": "Creates a new api token.\n\nThe new api token is returned in the response payload. This is the only time it will be accessible to the user; it will never be displayed again."
					},
					"response": []
				},
				{
					"name": "List API Tokens",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "d7790661-b6d0-43f2-af8f-ad84011bbc21",
								"exec": [
									"pm.test(\"Save first token ID in list\", function () {",
									"    pm.response.to.have.status(200);",
									"    ",
									"    var data = pm.response.json();",
									"    pm.environment.set(\"TOKEN_ID\", data[0].id);",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{PORTAL_API_URL}}/v1/api-token",
							"host": [
								"{{PORTAL_API_URL}}"
							],
							"path": [
								"v1",
								"api-token"
							]
						},
						"description": "Lists api tokens that belong to the logged-in user."
					},
					"response": []
				},
				{
					"name": "Get API Token",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "b85b1ec7-07e4-4e1e-9e07-d9b88c161979",
								"exec": [
									"pm.test(\"Save token ID\", function () {",
									"    pm.response.to.have.status(200);",
									"    ",
									"    var data = pm.response.json();",
									"    pm.environment.set(\"TOKEN_ID\", data.id);",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{PORTAL_API_URL}}/v1/api-token/{{TOKEN_ID}}",
							"host": [
								"{{PORTAL_API_URL}}"
							],
							"path": [
								"v1",
								"api-token",
								"{{TOKEN_ID}}"
							]
						},
						"description": "Shows an api token."
					},
					"response": []
				},
				{
					"name": "Update API Token",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"name\": \"test-name\"\n}"
						},
						"url": {
							"raw": "{{PORTAL_API_URL}}/v1/api-token/{{TOKEN_ID}}",
							"host": [
								"{{PORTAL_API_URL}}"
							],
							"path": [
								"v1",
								"api-token",
								"{{TOKEN_ID}}"
							]
						},
						"description": "Edits an api token.\n\nEdit requests are queued, meaning they will be completed out-of-band from the current request. The response payload will describe the requested task, and will also include a Location header that can be polled to determine the status of the task. @see task:show."
					},
					"response": []
				},
				{
					"name": "Delete API Token",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{PORTAL_API_URL}}/v1/api-token/{{TOKEN_ID}}",
							"host": [
								"{{PORTAL_API_URL}}"
							],
							"path": [
								"v1",
								"api-token",
								"{{TOKEN_ID}}"
							]
						},
						"description": "Deletes an api token.\n\nDelete requests are queued, meaning they will be completed out-of-band from the current request. The response payload will describe the requested task, and will also include a Location header that can be polled to determine the status of the task. @see task:show."
					},
					"response": []
				}
			]
		},
		{
			"name": "Cloud Account",
			"item": [
				{
					"name": "Create Clout Account",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"app_id\": 123,\n\t\"cloud_id\": 45,\n\t\"domain\": \"cloud-account.example.com\",\n\t\"install_app\": true,\n\t\"package_id\": 678\n}"
						},
						"url": {
							"raw": "{{PORTAL_API_URL}}/v1/cloud-account",
							"host": [
								"{{PORTAL_API_URL}}"
							],
							"path": [
								"v1",
								"cloud-account"
							]
						},
						"description": "Creates a new cloud account and orders an associated service.\n\nAdd requests are queued, meaning they will be completed out-of-band from the current request. The response payload will describe the requested task, and will also include a Location header that can be polled to determine the status of the task. @see task:show."
					},
					"response": []
				},
				{
					"name": "List Cloud Accounts",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{PORTAL_API_URL}}/v1/cloud-account",
							"host": [
								"{{PORTAL_API_URL}}"
							],
							"path": [
								"v1",
								"cloud-account"
							]
						}
					},
					"response": []
				}
			],
			"auth": {
				"type": "bearer",
				"bearer": [
					{
						"key": "token",
						"value": "{{PORTAL_API_TOKEN}}",
						"type": "string"
					}
				]
			}
		},
		{
			"name": "Cloud",
			"item": [
				{
					"name": "List Clouds",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{PORTAL_API_URL}}/v1/cloud",
							"host": [
								"{{PORTAL_API_URL}}"
							],
							"path": [
								"v1",
								"cloud"
							]
						},
						"description": "Lists available cloud hosting installations."
					},
					"response": []
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "c245e3fd-76c7-42a8-a391-d6c5ef8f72fd",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"id": "198e53a6-410c-4491-9961-f69d58d2b05c",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		},
		{
			"name": "Package",
			"item": [
				{
					"name": "List Packages",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{PORTAL_API_URL}}/v1/package",
							"host": [
								"{{PORTAL_API_URL}}"
							],
							"path": [
								"v1",
								"package"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Package",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{PORTAL_API_URL}}/v1/package/{{PACKAGE_ID}}",
							"host": [
								"{{PORTAL_API_URL}}"
							],
							"path": [
								"v1",
								"package",
								"{{PACKAGE_ID}}"
							]
						},
						"description": "Shows package details."
					},
					"response": []
				}
			]
		},
		{
			"name": "App",
			"item": [
				{
					"name": "List Apps",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{PORTAL_API_URL}}/v1/app",
							"host": [
								"{{PORTAL_API_URL}}"
							],
							"path": [
								"v1",
								"app"
							]
						}
					},
					"response": []
				}
			]
		}
	],
	"auth": {
		"type": "bearer",
		"bearer": [
			{
				"key": "token",
				"value": "{{PORTAL_API_TOKEN}}",
				"type": "string"
			}
		]
	},
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"id": "9a76e276-6426-4051-a9ac-ee69cbbbbee9",
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"id": "f3ff1529-b308-4958-b534-7b3efe89101c",
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"id": "d73c807b-6af3-4fc8-895d-ade6fc78caab",
			"key": "PORTAL_API_URL",
			"value": "",
			"type": "string"
		},
		{
			"id": "bbad1a11-0ffd-4eca-b0d7-c5ee2cb9b34b",
			"key": "USERNAME",
			"value": "user@example.com",
			"type": "string"
		},
		{
			"id": "2190a7bf-89af-412b-be31-0bfa4061ae47",
			"key": "PASSWORD",
			"value": "KlaatuBaradaNikto",
			"type": "string"
		},
		{
			"id": "7e81ec5d-6551-4f30-a6ca-a3b73aa6a8ba",
			"key": "PORTAL_API_KEY",
			"value": "",
			"type": "string"
		},
		{
			"id": "086e3013-328e-4688-9709-4891fd946bdc",
			"key": "TOKEN_ID",
			"value": "",
			"type": "string"
		}
	]
}